<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalkulator Invers Matriks</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Orbitron', sans-serif; margin:0; padding:0; background: radial-gradient(circle at top, #1e1f4c, #330000); color:#fff; }
h1 { text-align:center; margin:20px 0; color:#ff5555; text-shadow:0 0 10px #ff5555,0 0 20px #00ffff; }

.tab-btn {
    padding:10px 20px; margin:5px;
    border:none; border-radius:12px; font-weight:bold;
    cursor:pointer; background: linear-gradient(135deg,#ff0000,#00ffff);
    color:#fff; transition:0.3s;
}
.tab-btn.active { box-shadow:0 0 15px #00ffff; }

section { display:none; margin:0 auto; max-width:900px; }
section.active { display:block; }

.card {
    background: rgba(255,255,255,0.05); border-radius:20px; padding:25px;
    margin:20px auto; box-shadow:0 8px 30px rgba(0,0,0,0.5);
    backdrop-filter: blur(15px); border:1px solid rgba(255,255,255,0.2);
}

select, button { padding:10px 18px; border-radius:12px; font-weight:600; font-size:14px; border:none; cursor:pointer; transition:0.3s; }
button:hover { transform:scale(1.05); box-shadow:0 6px 25px rgba(0,0,0,0.5); }

#matrixContainer table, .result table { border-collapse:collapse; margin:20px auto; overflow-x:auto; display:block; max-width:100%; }
#matrixContainer td, .result td { border:1px solid rgba(255,255,255,0.3); padding:10px; text-align:center; border-radius:8px; background: rgba(255,255,255,0.05);}
input { width:60px; text-align:center; padding:5px; border-radius:8px; border:1px solid rgba(255,255,255,0.3); background:rgba(255,255,255,0.05); color:#fff; font-weight:500;}

.result { text-align:center; word-break: break-word; }
h2 {text-align:center; color:#ff8888;}
p {line-height:1.6; margin:10px 0;}
code, pre {background: rgba(255,255,255,0.1); padding:2px 4px; border-radius:4px;}

@media (max-width:768px){
    .card { max-width:95%; padding:15px; margin:10px auto; }
    input { width:40px; padding:4px; font-size:14px; }
    button, select { padding:8px 12px; font-size:12px; }
    h1 { font-size:1.5em; }
    #matrixContainer table td, .result table td { padding:6px; }
}
</style>
</head>
<body>

<h1>Kalkulator Invers Matriks</h1>

<!-- Tombol Tab -->
<div style="text-align:center; margin-bottom:20px;">
    <button class="tab-btn active" onclick="openSection('panduan')">üìñ Panduan</button>
    <button class="tab-btn" onclick="openSection('kalkulator')">üßÆ Kalkulator</button>
</div>

<!-- Section Panduan -->
<section id="panduan" class="active">
    <div class="card">
        <h2>üìñ Penjelasan Invers Matriks</h2>
        <p>Matriks invers <code>A‚Åª¬π</code> adalah matriks yang jika dikalikan dengan matriks asal <code>A</code> menghasilkan matriks identitas <code>I</code>:</p>
        <p style="text-align:center;"><code>A √ó A‚Åª¬π = I</code></p>
        <p><b>Syarat:</b> Matriks harus persegi (NxN). Jika determinan = 0, matriks <b>tidak memiliki invers</b>.</p>

        <h3>Langkah Menghitung Invers Matriks</h3>
        <ol>
            <li>Hitung determinan <code>det(A)</code></li>
            <li>Buat matriks kofaktor</li>
            <li>Transpose kofaktor ‚Üí adjoin matriks</li>
            <li>Invers matriks = adjoin / determinan</li>
        </ol>

        <h3>Contoh Matriks 2x2</h3>
        <pre>A = [[2,1],[3,2]]</pre>
        <p>Determinannya: det(A) = 2*2 - 3*1 = 1</p>
        <pre>[[2,-1],[-3,2]]</pre>
        <pre>Transpose (adjoin): [[2,-3],[-1,2]]</pre>
        <pre>Invers: [[2,-3],[-1,2]]</pre>

        <h3>Contoh Matriks 3x3</h3>
        <pre>A = [[1,2,3],[0,1,4],[5,6,0]]</pre>
        <p>Determinannya: det(A) = 1</p>
        <pre>[[-24,20,-5],[18,-15,4],[5,-4,1]]</pre>
        <pre>Transpose (adjoin): [[-24,18,5],[20,-15,-4],[-5,4,1]]</pre>
        <pre>Invers: [[-24,18,5],[20,-15,-4],[-5,4,1]]</pre>
    </div>
</section>

<!-- Section Kalkulator -->
<section id="kalkulator">
    <div class="card">
        <label>Pilih ordo matriks:</label>
        <select id="orderSelect" onchange="updateOrdo()">
            <option value="2">2 x 2</option>
            <option value="3">3 x 3</option>
        </select>
        <div style="margin-top:10px;">
            <button onclick="buatMatriks()">Generate Matriks</button>
            <button onclick="hitungManual()">Hitung Invers</button>
        </div>
    </div>

    <div class="card" id="matrixContainer"></div>
    <div class="card result" id="resultContainer"></div>
</section>

<script>
let N=2;

function openSection(id){
    document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.querySelectorAll('.tab-btn').forEach(btn=>btn.classList.remove('active'));
    event.currentTarget.classList.add('active');
}

function updateOrdo(){ N=parseInt(document.getElementById('orderSelect').value); }

function buatMatriks(){
    let container=document.getElementById('matrixContainer'); 
    container.innerHTML='';
    let table=document.createElement('table');
    for(let i=0;i<N;i++){
        let tr=document.createElement('tr');
        for(let j=0;j<N;j++){
            let td=document.createElement('td');
            let input=document.createElement('input'); 
            input.type='number'; 
            input.id=`cell-${i}-${j}`; 
            td.appendChild(input); 
            tr.appendChild(td);
        }
        table.appendChild(tr);
    }
    container.appendChild(table);
    document.getElementById('resultContainer').innerHTML='';
}

//== Hitung invers 2x2 dan 3x3 manual
function determinant(mat){
    if(N==2) return mat[0][0]*mat[1][1]-mat[0][1]*mat[1][0];
    if(N==3){
        let a=mat[0][0],b=mat[0][1],c=mat[0][2];
        let d=mat[1][0],e=mat[1][1],f=mat[1][2];
        let g=mat[2][0],h=mat[2][1],i=mat[2][2];
        return a*(e*i-f*h)-b*(d*i-f*g)+c*(d*h-e*g);
    }
}

function kofaktor(mat){
    if(N==2) return [[mat[1][1], -mat[0][1]], [-mat[1][0], mat[0][0]]];
    if(N==3){
        let cof=[];
        for(let i=0;i<3;i++){
            let row=[];
            for(let j=0;j<3;j++){
                let sub=[];
                for(let r=0;r<3;r++){
                    if(r!=i){
                        let subRow=[];
                        for(let c=0;c<3;c++){
                            if(c!=j) subRow.push(mat[r][c]);
                        }
                        sub.push(subRow);
                    }
                }
                let det=sub[0][0]*sub[1][1]-sub[0][1]*sub[1][0];
                row.push(((i+j)%2==0?1:-1)*det);
            }
            cof.push(row);
        }
        return cof;
    }
}

function transpose(mat){ return mat[0].map((_,i)=>mat.map(row=>row[i])); }
function tampilMatriks(mat){ let html='<table>'; for(let i=0;i<mat.length;i++){ html+='<tr>'; for(let j=0;j<mat[i].length;j++){ html+=`<td>${mat[i][j].toFixed(2)}</td>`;} html+='</tr>'; } html+='</table>'; return html; }

function hitungManual(){
    let A=[];
    for(let i=0;i<N;i++){
        let row=[];
        for(let j=0;j<N;j++){
            let val=parseFloat(document.getElementById(`cell-${i}-${j}`).value);
            if(isNaN(val)) val=0;
            row.push(val);
        }
        A.push(row);
    }

    let det=determinant(A);
    if(det==0){
        document.getElementById('resultContainer').innerHTML="‚ö† Matriks tidak memiliki invers (determinannya 0)";
        return;
    }

    let cof=kofaktor(A);
    let adj=transpose(cof);
    let invers=adj.map(r=>r.map(v=>v/det));

    let html="<h3>Langkah Manual:</h3>";
    html+=`<p><b>1. Matriks Awal:</b></p>${tampilMatriks(A)}`;
    html+=`<p><b>2. Determinan:</b> det(A) = ${det.toFixed(2)}</p>`;
    html+=`<p><b>3. Matriks Kofaktor:</b></p>${tampilMatriks(cof)}`;
    html+=`<p><b>4. Matriks Adjoin (Transpose Kofaktor):</b></p>${tampilMatriks(adj)}`;
    html+=`<p><b>5. Invers Matriks:</b></p>${tampilMatriks(invers)}`;

    document.getElementById('resultContainer').innerHTML=html;
}
</script>

</body>
</html>
